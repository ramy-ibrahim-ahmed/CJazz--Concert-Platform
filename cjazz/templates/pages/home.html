{% extends 'base.html' %}
{% load static %}

{% block navbar %}
<nav class="navbar navbar-expand-lg">
    <div class="container">
        <a class="navbar-brand" href="{% url 'home' %}">
            Cairo Jazz Club
        </a>

        <a href="{% url 'ticket' %}" class="btn custom-btn d-lg-none ms-auto me-4">Buy Ticket</a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav align-items-lg-center ms-auto me-lg-5">
                <li class="nav-item">
                    <a class="nav-link click-scroll" href="#section_1">Home</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link click-scroll" href="#section_2">About</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link click-scroll" href="#section_3">Artists</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link click-scroll" href="#section_4">Schedule</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link click-scroll" href="#section_5">Pricing</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link click-scroll" href="#section_6">Contact</a>
                </li>

            </ul>
            
            <a href="{% url 'ticket' %}" class="btn custom-btn d-lg-block d-none">Buy Ticket</a>
        </div>
    </div>
</nav>
{% endblock navbar %}

{% block content %}
<section class="hero-section" id="section_1">
    <div class="section-overlay"></div>

    <div class="container d-flex justify-content-center align-items-center">
        <div class="row">

            <div class="col-12 mt-auto mb-5 text-center">
                <small>Party Live Presents</small>

                <h1 class="text-white mb-5">Cairo Jazz Club</h1>

                <a class="btn custom-btn smoothscroll" href="#section_2">Let's begin</a>
            </div>

            <div class="col-lg-12 col-12 mt-auto d-flex flex-column flex-lg-row text-center">
            <div class="date-wrap">
                <h5 class="text-white">
                    <i class="custom-icon bi-clock me-2"></i>
                    10 - 12<sup>th</sup>, Dec 2023
                </h5>
            </div>

                <div class="location-wrap mx-auto py-3 py-lg-0">
                    <h5 class="text-white">
                        <i class="custom-icon bi-geo-alt me-2"></i>
                        Cairo, Egypt
                    </h5>
                </div>

                <div class="social-share">
                    <ul class="social-icon d-flex align-items-center justify-content-center">
                        <span class="text-white me-3">Share:</span>

                        <li class="social-icon-item">
                            <a href="https://www.facebook.com/cairojazzclub610/" class="social-icon-link">
                                <span class="bi-facebook"></span>
                            </a>
                        </li>

                        <li class="social-icon-item">
                            <a href="https://twitter.com/CairoJazzClub?s=20" class="social-icon-link">
                                <span class="bi-twitter"></span>
                            </a>
                        </li>

                        <li class="social-icon-item">
                            <a href="https://www.instagram.com/cairojazzclub/" class="social-icon-link">
                                <span class="bi-instagram"></span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="video-wrap">
        <video autoplay="" loop="" muted="" class="custom-video" poster="">
            <source src="{% static 'video/pexels-2022395.mp4' %}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
</section>


<section class="about-section section-padding" id="section_2">
    <div class="container">
        <div class="row">

            <div class="col-lg-6 col-12 mb-4 mb-lg-0 d-flex align-items-center">
                <div class="services-info">
                    <h2 class="text-white mb-4">About Cairo Jazz Club</h2>

                    <p class="text-white">{{about.cjazz}}</p>

                    <h6 class="text-white mt-4">Our Developer</h6>

                    <p class="text-white">{{about.developers}}</p>

                    <h6 class="text-white mt-4">Technologies For Our Site</h6>

                    <p class="text-white">{{about.technology}}</p>
                </div>
            </div>

            <div class="col-lg-6 col-12">
                <div class="about-text-wrap">
                    <img src="{% static 'images/pexels-alexander-suhorucov-6457579.jpg' %}" class="about-image img-fluid">

                    <div class="about-text-info d-flex">
                        <div class="d-flex">
                            <i class="about-text-icon bi-person"></i>
                        </div>

                        <div class="ms-4">
                            <h3>a happy moment</h3>

                            <p class="mb-0">your amazing festival experience with us</p>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>


<section class="artists-section section-padding" id="section_3">
    <div class="container">
        <div class="row justify-content-center">

            <div class="col-12 text-center">
                <h2 class="mb-4">Meet Artists</h1>
            </div>
            {% for artist in artists %}
            {% if artist.active == True %}
            <div class="col-lg-5 col-12">
                <div class="artists-thumb">
                    <div class="artists-image-wrap">
                        <img src="{{artist.image.url}}" class="artists-image img-fluid">
                    </div>

                    <div class="artists-hover">
                        <p>
                            <strong>Name:</strong>
                            {{artist.name}}
                        </p>

                        <p>
                            <strong>Birthdate:</strong>
                            {{artist.birthdate}}
                        </p>

                        <p>
                            <strong>Music:</strong>
                            {% for type in artist.music.all %}
                            {{type.type}}
                            {% endfor %}
                        </p>

                        <hr>

                        <p class="mb-0">
                            <strong>Youtube Channel:</strong>
                            <a href="{{artist.youtube_link}}">{{artist.youtube}}</a>
                        </p>
                    </div>
                </div>
            </div>
            {% endif %}
            {% endfor %}

        </div>
    </div>
</section>


<section class="schedule-section section-padding" id="section_4">
    <div class="container">
        <div class="row">

            <div class="col-12 text-center">
                <h2 class="text-white mb-4">Parties Schedule</h1>

                <div class="table-responsive">
                    <table class="schedule-table table table-dark">
                        <thead>
                            <tr>
                                <th scope="col">Date</th>

                                <th scope="col">Party</th>
                            </tr>
                        </thead>

                        <tbody>
                        {% for party in parties %}
                        {% if party.artist.active == True %}
                            <tr>
                                <th scope="row">
                                {{party.date}}
                                </th>

                                <td class="table-background-image-wrap">
                                    <h3>{{party.title}}</h3>

                                    <p class="mb-2">{{party.time}}</p>

                                    <p>By {{party.artist}}</p>

                                    <div class="section-overlay"></div>
                                </td>

                            </tr>
                        {% endif %}
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>


<section class="pricing-section section-padding section-bg" id="section_5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-12 mx-auto">
                <h2 class="text-center mb-4">Plans, you' love</h2>
            </div>
            {% for plan in plans %}
            <div class="col-lg-6 col-12">
                <div class="pricing-thumb">
                    <div class="d-flex">
                        <div>
                            <h3><small>{{plan.name}}</small> ${{plan.price}}</h3>

                            <p>Including good things:</p>
                        </div>
                    {% if plan.discount != 0 %}
                        <p class="pricing-tag ms-auto">Save up to <span>{{plan.discount}}%</span></h2>
                    {% endif %}
                    </div>

                    <ul class="pricing-list mt-3">
                    {% for pro in plan.pros.all %}
                        <li class="pricing-list-item">{{pro.description}}</li>
                    {% endfor %}
                    </ul>

                    <a class="link-fx-1 color-contrast-higher mt-4" href="{% url 'ticket' %}">
                        <span>Buy Ticket</span>
                        <svg class="icon" viewBox="0 0 32 32" aria-hidden="true"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><circle cx="16" cy="16" r="15.5"></circle><line x1="10" y1="18" x2="16" y2="12"></line><line x1="16" y1="12" x2="22" y2="18"></line></g></svg>
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>


<section class="contact-section section-padding" id="section_6">
    <div class="container">
        <div class="row">

            <div class="col-lg-8 col-12 mx-auto">
                <h2 class="text-center mb-4">Interested? Let's talk</h2>

                <nav class="d-flex justify-content-center">
                    <div class="nav nav-tabs align-items-baseline justify-content-center" id="nav-tab" role="tablist">
                        <button class="nav-link active" id="nav-ContactForm-tab" data-bs-toggle="tab" data-bs-target="#nav-ContactForm" type="button" role="tab" aria-controls="nav-ContactForm" aria-selected="false">
                            <h5>Contact Form</h5>
                        </button>

                        <button class="nav-link" id="nav-ContactMap-tab" data-bs-toggle="tab" data-bs-target="#nav-ContactMap" type="button" role="tab" aria-controls="nav-ContactMap" aria-selected="false">
                            <h5>Google Maps</h5>
                        </button>
                    </div>
                </nav>

                <div class="tab-content shadow-lg mt-5" id="nav-tabContent">
                    <div class="tab-pane fade show active" id="nav-ContactForm" role="tabpanel" aria-labelledby="nav-ContactForm-tab">
                    {% if submitted == True %}
                        <h3 class="text-center mb-4">Submitted Successfully<h3>
                    {% else %}  
                    <form class="custom-form contact-form mb-5 mb-lg-0" action="#" method="post" role="form">
                        {% csrf_token %}
                            <div class="contact-form-body">
                                {{ form.as_p }}
                                <div class="col-lg-4 col-md-10 col-8 mx-auto">
                                    <button type="submit" class="form-control">Send message</button>
                                </div>
                            </div>
                        </form>
                    {% endif %}
                    </div>

                    <div class="tab-pane fade" id="nav-ContactMap" role="tabpanel" aria-labelledby="nav-ContactMap-tab">
                        <iframe class="google-map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d442192.1169765339!2d30.603168754605818!3d30.018896121710316!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1458413f3dedb98f%3A0x5b4219ebdbdb6333!2sCairo%20Jazz%20Club!5e0!3m2!1sen!2seg!4v1691369298021!5m2!1sen!2seg" width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

{% endblock content %}